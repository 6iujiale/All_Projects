!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./build",n(n.s=53)}({2:function(e,t,n){"use strict";function o(){for(var e,t=document.getElementsByTagName("meta"),n="",o=0;o<t.length;o++)if("data-spm"==t[o].getAttribute("name")){n=t[o].getAttribute("content");break}return e=document.body.getAttribute("data-spm"),n&&e?n+"."+e:""}t.a={loading:function(e,t,n,o,a){if("img"===e||"script"===e||"css"===e){var r=null;"img"===e?(r=new Image).src=t:("script"===e?((r=document.createElement("script")).type="text/javascript",r.src=t,void 0!==a&&(r.id=a)):((r=document.createElement("link")).type="text/css",r.rel="stylesheet",r.href=t),document.getElementsByTagName("head")[0].appendChild(r)),r.readyState?r.onreadystatechange=function(){"loaded"==r.readyState||"complete"==r.readyState?(r.onreadystatechange=null,n&&"[object Function]"===Object.prototype.toString.call(n)&&n(r)):o&&"[object Function]"===Object.prototype.toString.call(o)&&o(r)}:(r.onload=function(){n(r)},r.onerror=function(){o(r)})}},getUrlParam:function(e,t){var n=new RegExp("([?&^]?)"+e+"=([^&]+)"),o=(t||location.href).match(n);return o&&o.length>1?o.pop():""},getUrlAllParams:function(e){var t=decodeURI(e||window.location.href),n=t.indexOf("?");t=n>-1?t.substring(n+1):"";for(var o=/([^=&\s\?]+)[=\s]*([^&\s]*)/g,a={};o.exec(t);)a[RegExp.$1]=RegExp.$2;return a},getPageSPM:o,getPageSPMAB:function(e){var t="";if(e)try{var n=e.split(".");4===n.length&&(t="".concat(n[0],".").concat(n[1]))}catch(e){}return t||(t=o()),t},getCookie:function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t?t[2]:""},formateTimestamp:function(e){var t=new Date(e),n=t.getFullYear()+"-",o=(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-",a=t.getDate()+" ",r=t.getHours()+":",i=t.getMinutes()+":",c=t.getSeconds();return console.log(n+o+a+r+i+c),n+o+a+r+i+c+""},getSDKEnvironment:function(){if(window.envTag)return window.envTag;var e=navigator.userAgent.toLowerCase(),t=e.match("iku"),n=t&&e.match("windows")?1:t&&e.match("youku")?2:3,o=window.location.href.indexOf("iku_pay")>-1,a=window.location.href.indexOf("wrapper")>-1,r=function(){var e=navigator.userAgent.toLowerCase().match(/IKU\/(\d+\.\d+\.\d+)/i);if(e&&e[1]){for(var t="",n=e[1].split("."),o=0;o<n.length;o++)t+=n[o];return parseInt(t)<752}return!1}();return"YoukuOfficial"==window.pid?"1.0.2":r?"4.0.0":o?"4.0.1":1==n?1==a?"3.0.1":"2.0.1":2==n?1==a?"3.0.2":"2.0.2":"1.0.1"},isTypeString:function(e){return!(!e||"string"!=typeof e||!e.length)},loadJS:function(e,t){var n=document.getElementsByTagName("body")[0],o=document.createElement("script");o.type="text/javascript",o.onload=o.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(console.log("create script loaded : "+e),t(),o.onload=o.onreadystatechange=null)},o.onerror=function(){console.log("create script error : "+e),o.onload=o.onreadystatechange=null},o.src=e,n.appendChild(o)},addDForSpm:function(e){var t="";try{var n=e.split(".");4==n.length&&(n[3]="d_"+n[3],t=n.join("."))}catch(e){}return t||e},isAppstoreIku:function(){var e=navigator.userAgent.toLowerCase(),t=e.indexOf("uosyouku")>-1&&e.indexOf("channel appstore")>-1,n=!0,o=e.match(/mac[^\d]*([\d_]*)/);if(o&&o[1]){var a={},r=o[1].split("_");Array.isArray(r)&&r.length>0&&(a.a=Number(r[0])||0,a.b=Number(r[1])||0,a.c=Number(r[2])||0,(a.a<10||10===a.a&&a.b<=10)&&(n=!1))}return t&&n}}},3:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},4:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e},e.exports.default=e.exports,e.exports.__esModule=!0},53:function(e,t,n){"use strict";n.r(t);var o=n(3),a=n.n(o),r=n(4),i=n.n(r),c=n(2),u={get_version:(window.youku_vip_pay_env&&"local"===window.youku_vip_pay_env?"http://pc-loc.pay.youku.com:7001/":window.youku_vip_pay_env&&"daily"===window.youku_vip_pay_env?"http://pc.pay.youku.com/":window.youku_vip_pay_env&&"pre"===window.youku_vip_pay_env?"//paypre.vip.youku.com/":(window.youku_vip_pay_env&&window.youku_vip_pay_env,"https://pc.pay.youku.com/"))+"api/v"},s=function(){function e(){a()(this,e),window.isPayJSLoad||(window.isPayJSLoad=!0,this.config=null,this._getVersion(),this._dealSceenSize())}return i()(e,[{key:"beforeInit",value:function(){this.pay=null,this.initWrapper(),this._testFlag()&&(window.pay=this)}},{key:"initWrapper",value:function(){var e,t=window.Pay;try{e=c.a.getUrlAllParams()}catch(t){e={type:"",subBiz:"",tags:"",product_ids:""}}window.isPayPage?(this.pay=new t({isSDK:!1,config:this.config,type:e.type,subBiz:e.subBiz,tags:e.tags,product_ids:e.product_ids,spm:e.spm,scm:e.scm,vid:e.vid,sid:e.sid,selected:e.selected,acode:e.acode,crm_params:e.crm_params}),this.pay._destroySelf=null):(this.pay=new t({isSDK:!0,config:this.config}),this.pay._destroySelf=this._rebuildPay.bind(this))}},{key:"_getVersion",value:function(){var e=this;!function(e){var t=e||{};if(t.url){var n=t.callbackKeyName||"callback",o=t.callbackFnName||"jsonp_"+ +new Date,a=document.getElementsByTagName("head")[0];t.data[n]=o;var r=function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}(t.data),i=document.createElement("script");a.appendChild(i),window[o]=function(e){a.removeChild(i),clearTimeout(i.timer),window[o]=null,t.success&&t.success(e)},i.src=t.url+t.connect+r,i.timer=setTimeout((function(){window[o]=null,a.removeChild(i),t.error&&t.error({message:"超时"})}),t.time||8e3)}else console.log("参数不合法")}({url:u.get_version,callbackKeyName:"callback",callbackFnName:"callback",data:{},connect:"?",time:5e3,success:function(t){"20000"==t.code?(e.config=t.conf,e._loadPaySDK("".concat(t.conf.publicPath).concat(t.conf.version,"/sdk.js"))):console.log("get script version fail")},error:function(){console.log("get script version fail")}})}},{key:"_loadPaySDK",value:function(e){var t=document.getElementsByTagName("body")[0],n=document.createElement("script"),o=this;n.type="text/javascript",n.onload=n.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(console.log("create script loaded : "+e),o.beforeInit(),n.onload=n.onreadystatechange=null)},n.onerror=function(){console.log("create script error : "+e),n.onload=n.onreadystatechange=null},n.src=e,t.appendChild(n)}},{key:"_rebuildPay",value:function(){this.pay=null,this.initWrapper()}},{key:"_destroyPay",value:function(){this.pay._destroy(!0),this.pay=null,window.isPayJSLoad=!1}},{key:"_testFlag",value:function(){return 1==c.a.getUrlAllParams().tflag}},{key:"_dealSceenSize",value:function(){var e=this;window.location.href.indexOf("iku_pay")>-1||(this._refreshSize(),window.addEventListener("resize",(function(){e._refreshSize()}),!1))}},{key:"_refreshSize",value:function(){var e=document.documentElement,t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;window.isPayPage?t>=738?e.setAttribute("data-pay","w1"):t>=656?e.setAttribute("data-pay","w2"):e.setAttribute("data-pay","w3"):t>=1920||t>=1680&&t<1920?e.setAttribute("data-pay","w1"):t>=1344&&t<1680?e.setAttribute("data-pay","w2"):t<1344&&t>=1080?e.setAttribute("data-pay","w3"):t<1079&&e.setAttribute("data-pay","w4")}}]),e}();t.default=new s}});